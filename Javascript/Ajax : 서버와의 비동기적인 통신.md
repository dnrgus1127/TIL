# Ajax

Ajax를 풀어서 해석하면 Asynchronous JavaScript and XML이다.

Ajax는 이름처럼 **비동기적**으로 서버에 데이터를 요청하고, 서버가 응답한 데이터를 동적으로 반영하는 프로그래밍 방식이다.

### 비동기적?

우선 왜 비동기적이어야 하는지에 대해서 알아보자.

예전의 웹 페이지는 완전한 HTML 파일을 서버로부터 내려받고 페이지에 변경사항이 생기면 서버로부터 또 새로운 완전한 HTML을 전달받아서 화면 전체를 다시 렌더링하는 방식을 사용했다.

이런 방식은 다음과 같은 단점이 존재한다.

#### 단점

1. 완전한 HTML을 전달받기 때문에 이전의 페이지와 차이가 없어 변경될 필요가 없는 부분도 함께 다시 전송받아야 한다.(불필요한 통신 낭비)
2. 새로 전달받은 HTML을 처음부터 렌더링 해야 하기 때문에 화면 전환 시 순간적인 페이지 깜빡임이 발생한다.()
3. 클라이언트와 서버의 통신이 동기적이기 때문에 서버의 응답이 지연되면 블로킹이 발생한다.

그래서 Ajax는 XMLHttpRequest를 이용하여 비동기 통신을 제공한다.

> XMLHttpRequest
> 브라우저에서 제공하는 Web API 객체로 비동기 통신을 위한 메서드와 프로퍼티를 제공한다.

Ajax는 전통적인 방식의 단점을 해결할 수 있다.

1. 페이지에 변경사항이 있을 때 해당 부분을 갱신하는데 필요한 데이터만 전송받기 때문에 불필요한 데이터 통신의 낭비를 막을 수 있다.
2. 변경사항이 있는 부분만 다시 렌더링하기 때문에 불필요한 화면 전환(깜박임)이 발생하지 않는다.
3. 클라이언트-서버 사이의 통신이 비동기적으로 동작하여 블로킹이 발생하지 않는다.



## XML과 JSON
XML이란 HTML같은 마크업 언어지만, 주로 UI를 개발하는데 사용되는 HTML과는 달리 데이터 교환과 전송을 주 목적으로 하는 마크업 언어이다.

초기의 Ajax는 데이터 포맷으로 XML을 이용하고 서버와의 통신을 위해서 XMLHttpRequest 객체를 이용했기 때문에 Ajax라는 이름이 붙게 되었다.

하지만 최근에는 더 경량화 되고 파싱이 간편한 JSON 데이터 포맷을 주로 사용하고 있다.
> JSON
Javascript Object Notaion 으로 클라이언트와 서버 간의 HTTP 통신을 위한 텍스트 데이터 포맷이다.
이름과는 달리 javascript에 종속되어 있지 않아서 다른 대부분의 프로그래밍 언어에서 사용할 수 있다.


## Ajax의 통신 방법
Ajax는 XMLHttpRequest, fetch API, axios 등을 통해서 HTTP요청을 하여 XML이나 JSON같은 데이터를 비동기적으로 주고받는다.

다음은 비동기 통신을 위한 방법들이다.

### XMLHttpRequest
브라우저에서 제공하는 Web API로 XMLHttpRequest 객체를 이용하여 통신을 하는 방식이다.
HTTP요청과 응답 수신을 위한 여러 메서드와 프로퍼티들을 제공한다.

### Fetch
fetch 함수는 ES6에 도입된 HTTP 통신을 위한 클라이언트 사이드 Wep API다. 마찬가지로 ES6에 도입된 비동기 처리 방식인 Promise를 지원하고 있기 때문에 XMLHttpRequest에 비해서 콜백 패턴의 단점에서 자유롭다.

fetch 함수는 XMLHttpRequest보다 사용법이 간단하고, 프로미스를 지원하기 때문에 자주 사용된다.

하지만 비교적 최근(ES6)에 도입된 Web API이기 때문에 인터넷 익스플로러에서는 사용할 수 없다.

### Axios
Axios는 위 두 방식과는 달리 브라우저가 기본 제공하지 않는 서드파티 라이브러리이다. 
즉 사용하기 위해서는 npm, yam 등을 이용한 패키지 설치가 필요하다.

대신 위 방식들과는 다르게 브라우저 환경뿐만 아니라 Node.js 환경에서도 사용할 수 있다.
운영 환경(브라우저, Node)에 따라서 내부적으로 XMLHttpRequest 객체 혹은 Http api를 사용한다고 한다.


# 여담
> 나는 주로 서버와의 통신을 할 때 Fetch API를 사용했었다. 최근에 도입된 Web API라는 사실은 알고 있었는데 인터넷 익스플로러에서 지원되지 않는다는 사실은 처음 알게 되었다. 그리고 Axios는 Fetch에 기능을 일부 추가한 라이브러리라고 이해하고 있었는데 Fetch API가 브라우저에서만 작동하기 때문에 Node.js에서는 사용하기 위해 개발된 것이라는 사실을 알게 되었다.
